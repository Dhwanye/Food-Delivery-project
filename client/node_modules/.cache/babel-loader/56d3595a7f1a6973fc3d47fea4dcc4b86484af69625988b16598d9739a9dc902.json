{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import axios from'axios';import{useAuth}from'../context/AuthContext.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderConfirmation=()=>{const location=useLocation();const navigate=useNavigate();const{user}=useAuth();const[order,setOrder]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchOrder=async()=>{try{var _location$state;const orderId=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.orderId;if(!orderId){navigate('/');return;}const response=await axios.get(`http://localhost:5000/api/orders/${orderId}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setOrder(response.data);}catch(err){setError('Failed to fetch order details');}finally{setLoading(false);}};fetchOrder();},[location,navigate]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"pt-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto px-4 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"pt-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto px-4 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-red-500\",children:error})})});}if(!order){return/*#__PURE__*/_jsx(\"div\",{className:\"pt-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto px-4 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Order not found\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"pt-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:\"Order Confirmed!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:\"Your order has been placed successfully. We'll notify you when it's on the way.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:order._id.slice(-6)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 font-semibold\",children:order.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Estimated Delivery\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"30-40 minutes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Order Summary\"}),order.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\"x \",item.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",(item.price*item.quantity).toFixed(2)]})]},index)),/*#__PURE__*/_jsx(\"div\",{className:\"border-t pt-4 mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",order.totalAmount.toFixed(2)]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Delivery Address\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[order.deliveryAddress.street,\", \",order.deliveryAddress.city,\", \",order.deliveryAddress.state,\" \",order.deliveryAddress.zipCode]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 text-center\",children:\"Continue Shopping\"}),/*#__PURE__*/_jsx(Link,{to:\"/orders\",className:\"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 text-center\",children:\"View Order History\"})]})]})})});};export default OrderConfirmation;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","axios","useAuth","jsx","_jsx","jsxs","_jsxs","OrderConfirmation","location","navigate","user","order","setOrder","loading","setLoading","error","setError","fetchOrder","_location$state","orderId","state","response","get","headers","Authorization","localStorage","getItem","data","err","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_id","slice","status","items","map","item","index","quantity","name","price","toFixed","totalAmount","deliveryAddress","street","city","zipCode","to"],"sources":["D:/DHWANI/PDEU/SEM6/AWT/Food Delivery project/client/src/pages/OrderConfirmation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext.js';\n\nconst OrderConfirmation = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [order, setOrder] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const orderId = location.state?.orderId;\n        if (!orderId) {\n          navigate('/');\n          return;\n        }\n\n        const response = await axios.get(`http://localhost:5000/api/orders/${orderId}`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        });\n        setOrder(response.data);\n      } catch (err) {\n        setError('Failed to fetch order details');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [location, navigate]);\n\n  if (loading) {\n    return (\n      <div className=\"pt-16\">\n        <div className=\"max-w-2xl mx-auto px-4 py-8\">\n          <div className=\"text-center\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"pt-16\">\n        <div className=\"max-w-2xl mx-auto px-4 py-8\">\n          <div className=\"text-center text-red-500\">{error}</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"pt-16\">\n        <div className=\"max-w-2xl mx-auto px-4 py-8\">\n          <div className=\"text-center\">Order not found</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"pt-16\">\n      <div className=\"max-w-2xl mx-auto px-4 py-8\">\n        <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\n          <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <svg\n              className=\"w-8 h-8 text-green-500\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M5 13l4 4L19 7\"\n              />\n            </svg>\n          </div>\n          <h1 className=\"text-3xl font-bold mb-4\">Order Confirmed!</h1>\n          <p className=\"text-gray-600 mb-8\">\n            Your order has been placed successfully. We'll notify you when it's on\n            the way.\n          </p>\n\n          <div className=\"bg-gray-50 rounded-lg p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <span className=\"text-gray-600\">Order ID</span>\n              <span className=\"font-semibold\">{order._id.slice(-6)}</span>\n            </div>\n            <div className=\"flex justify-between items-center mb-4\">\n              <span className=\"text-gray-600\">Status</span>\n              <span className=\"text-green-500 font-semibold\">{order.status}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-gray-600\">Estimated Delivery</span>\n              <span className=\"font-semibold\">30-40 minutes</span>\n            </div>\n          </div>\n\n          <div className=\"mb-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">Order Summary</h2>\n            {order.items.map((item, index) => (\n              <div\n                key={index}\n                className=\"flex justify-between items-center mb-2\"\n              >\n                <span>\n                  {item.quantity}x {item.name}\n                </span>\n                <span>${(item.price * item.quantity).toFixed(2)}</span>\n              </div>\n            ))}\n            <div className=\"border-t pt-4 mt-4\">\n              <div className=\"flex justify-between font-semibold\">\n                <span>Total</span>\n                <span>${order.totalAmount.toFixed(2)}</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mb-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">Delivery Address</h2>\n            <p className=\"text-gray-600\">\n              {order.deliveryAddress.street}, {order.deliveryAddress.city}, {order.deliveryAddress.state} {order.deliveryAddress.zipCode}\n            </p>\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <Link\n              to=\"/\"\n              className=\"flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 text-center\"\n            >\n              Continue Shopping\n            </Link>\n            <Link\n              to=\"/orders\"\n              className=\"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 text-center\"\n            >\n              View Order History\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderConfirmation; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}