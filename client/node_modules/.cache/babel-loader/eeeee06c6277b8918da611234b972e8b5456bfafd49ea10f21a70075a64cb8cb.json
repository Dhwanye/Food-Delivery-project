{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Link}from'react-router-dom';import{FiUser,FiShoppingBag,FiLogOut,FiHeart}from'react-icons/fi';import{useAuth}from'../context/AuthContext.js';import'./ProfileIcon.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileIcon=()=>{const{user,logout}=useAuth();const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);const toggleDropdown=e=>{e.stopPropagation();setIsOpen(!isOpen);};// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Get first letter of user name for avatar\nconst getInitial=()=>{if(user&&user.name){return user.name.charAt(0).toUpperCase();}return'U';};const handleLogout=()=>{setIsOpen(false);logout();};if(!user)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-icon-container\",ref:dropdownRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile-icon-button\",onClick:toggleDropdown,children:/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",children:user.photo?/*#__PURE__*/_jsx(\"img\",{src:user.photo,alt:user.name}):/*#__PURE__*/_jsx(\"div\",{className:\"profile-initial\",children:getInitial()})})}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"profile-name\",children:user.name}),/*#__PURE__*/_jsx(\"span\",{className:\"profile-email\",children:user.email})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:\"profile-menu-item\",onClick:()=>setIsOpen(false),children:[/*#__PURE__*/_jsx(FiUser,{className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"My Profile\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/orders\",className:\"profile-menu-item\",onClick:()=>setIsOpen(false),children:[/*#__PURE__*/_jsx(FiShoppingBag,{className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"My Orders\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/favorites\",className:\"profile-menu-item\",onClick:()=>setIsOpen(false),children:[/*#__PURE__*/_jsx(FiHeart,{className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Favorites\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"profile-menu-item logout-button\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FiLogOut,{className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]})]})]});};export default ProfileIcon;","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","FiUser","FiShoppingBag","FiLogOut","FiHeart","useAuth","jsx","_jsx","jsxs","_jsxs","ProfileIcon","user","logout","isOpen","setIsOpen","dropdownRef","toggleDropdown","e","stopPropagation","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","getInitial","name","charAt","toUpperCase","handleLogout","className","ref","children","onClick","photo","src","alt","email","to"],"sources":["D:/DHWANI/PDEU/SEM6/AWT/Food Delivery project/client/src/components/ProfileIcon.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiUser, FiShoppingBag, FiLogOut, FiHeart } from 'react-icons/fi';\nimport { useAuth } from '../context/AuthContext.js';\nimport './ProfileIcon.css';\n\nconst ProfileIcon = () => {\n  const { user, logout } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  const toggleDropdown = (e) => {\n    e.stopPropagation();\n    setIsOpen(!isOpen);\n  };\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Get first letter of user name for avatar\n  const getInitial = () => {\n    if (user && user.name) {\n      return user.name.charAt(0).toUpperCase();\n    }\n    return 'U';\n  };\n\n  const handleLogout = () => {\n    setIsOpen(false);\n    logout();\n  };\n\n  if (!user) return null;\n\n  return (\n    <div className=\"profile-icon-container\" ref={dropdownRef}>\n      <button\n        className=\"profile-icon-button\"\n        onClick={toggleDropdown}\n      >\n        <div className=\"profile-avatar\">\n          {user.photo ? (\n            <img src={user.photo} alt={user.name} />\n          ) : (\n            <div className=\"profile-initial\">{getInitial()}</div>\n          )}\n        </div>\n      </button>\n\n      {isOpen && (\n        <div className=\"profile-dropdown\">\n          <div className=\"profile-header\">\n            <div className=\"profile-info\">\n              <span className=\"profile-name\">{user.name}</span>\n              <span className=\"profile-email\">{user.email}</span>\n            </div>\n          </div>\n          \n          <div className=\"profile-menu\">\n            <Link to=\"/profile\" className=\"profile-menu-item\" onClick={() => setIsOpen(false)}>\n              <FiUser className=\"menu-icon\" />\n              <span>My Profile</span>\n            </Link>\n            <Link to=\"/orders\" className=\"profile-menu-item\" onClick={() => setIsOpen(false)}>\n              <FiShoppingBag className=\"menu-icon\" />\n              <span>My Orders</span>\n            </Link>\n            <Link to=\"/favorites\" className=\"profile-menu-item\" onClick={() => setIsOpen(false)}>\n              <FiHeart className=\"menu-icon\" />\n              <span>Favorites</span>\n            </Link>\n            <button className=\"profile-menu-item logout-button\" onClick={handleLogout}>\n              <FiLogOut className=\"menu-icon\" />\n              <span>Logout</span>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileIcon;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}